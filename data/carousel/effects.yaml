weight: 3
title: "Algebraic Effects"
description: >
    <div class="highlight-textalign-left"><pre class="center-align"><code class="language/ante" data-lang="ante"><span class="k">type</span> <span class="kt">Context</span> = ...


    <span class="c1">// We don't need to manually pass around our Context, it is done for us, but is still explicit in the type</span>

    my_game_loop () <span class="k">can</span> <span class="kt">Use Context</span> =
        <span class="k">if not</span> game_ended () <span class="k">then</span>
            update ()
            draw ()
            my_game_loop ()

    <span class="c1">// Since 'can Use Context' is part of a function's type, it can be inferred as well</span>

    game_ended () =
        player_entities () |> all is_dead

    update () <span class="k">can</span> <span class="kt">Use Context</span> =
        ctx = get ()
        put <| ctx <span class="k">with</span> ticks += 1</code></pre></div>
